<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="img/skull.png">
    <title>White</title>
    <link rel="stylesheet" href="white.css">
</head>

<body>
    <div class="fade-overlay"></div>
    <div id="typing-container">
        <div id="typed-text">
        </div>
        <div id="cursor"></div>
    </div>
    <img id="skeleton" src="img/skeleton.png" >
    <script>
        // Start fade to white after a short delay
        setTimeout(() => {
            document.querySelector('.fade-overlay').classList.add('fade-in');
        }, 100);

        // Typewriting effect
        const typedTextElement = document.getElementById('typed-text');
        const cursorElement = document.getElementById('cursor');
        let typedText = '';
        let targetText = `Romito 2 is the 10,000-year-old burial of a male with a rare genetic disorder (acromesomelic dysplasia): a severe type of dwarfism, which in life would have rendered him both anomalous in his community and unable to participate in the kind of high-altitude hunting that was necessary for their survival. Studies of his pathology show that, despite generally poor levels of health and nutrition, that same community of hunter-gatherers still took pains to support this individual through infancy and into early adulthood, granting him the same share of meat as everyone else, and ultimately according him a careful, sheltered burial. Neither is Romito 2 an isolated case. When archaeologists undertake balanced appraisals of hunter-gatherer burials from the Palaeolithic, they find high frequencies of health-related disabilities â€“ but also surprisingly high levels of care until the time of death (and beyond, since some of these funerals were remarkably lavish).`;
        let currentPosition = 0;

        // Clear initial text content
        typedTextElement.textContent = '';

        // Function to get cursor position
        function getCursorPosition(text) {
            const span = document.createElement('span');
            span.style.cssText = window.getComputedStyle(typedTextElement).cssText;
            span.style.position = 'absolute';
            span.style.whiteSpace = 'pre-wrap';
            span.style.visibility = 'hidden';
            span.style.width = typedTextElement.offsetWidth + 'px';
            span.textContent = text;
            
            const letter = document.createElement('span');
            letter.textContent = text.slice(-1);
            span.appendChild(letter);
            
            document.body.appendChild(span);
            const letterRect = letter.getBoundingClientRect();
            document.body.removeChild(span);
            
            return {
                left: letterRect.right - letterRect.width,
                top: letterRect.top - typedTextElement.getBoundingClientRect().top
            };
        }

        // Handle keydown events
        document.addEventListener('keydown', (event) => {
            if (currentPosition < targetText.length) {
                event.preventDefault();
                typedText += targetText[currentPosition];
                typedTextElement.textContent = typedText;
                currentPosition++;

                // Update cursor position
                const pos = getCursorPosition(typedText);
                cursorElement.style.transform = `translate(${pos.left}px, ${pos.top}px)`;
            }
        });
    </script>
</body>

</html>